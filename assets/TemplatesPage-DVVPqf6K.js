import{d as v,l as w,o as l,k,e as T,j as g,a as t,c as r,m as x,t as i,F as f,h as n,v as d,n as _,i as F,p as B}from"./index-BnoIOtV8.js";import{_ as P}from"./ManagerLayout.vue_vue_type_script_setup_true_lang-B6YqwWYP.js";const $={class:"px-4 py-6 sm:px-0"},j={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},V={class:"px-4 py-5 sm:p-6"},S={class:"text-lg font-medium text-gray-900 truncate"},z={class:"mt-1 text-sm text-gray-500"},M={class:"mt-2 text-xs text-gray-400"},U={key:0,class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4"},D={class:"bg-white rounded-lg max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto"},E={class:"space-y-4"},N={class:"mt-2 max-h-40 overflow-y-auto border rounded-md p-2"},A=["value"],I={class:"ml-2 text-sm text-gray-900"},O={class:"grid grid-cols-3 gap-2"},L={class:"mt-6 flex justify-end space-x-3"},H=v({__name:"TemplatesPage",setup(J){const p=g([]),u=g([]),m=g(!1),s=B({title:"",description:"",selectedPages:[],globalConfig:{themeColors:{mainColor:"#4F46E5",bgColor:"#FFFFFF",tintColor:"#E0E7FF"},iconLibrary:{}}}),c=async()=>{const a=localStorage.getItem("token"),e="https://20nfauw0la.execute-api.ap-northeast-2.amazonaws.com/".replace(/\/$/,""),o=await fetch(`${e}/manager/templates`,{headers:{Authorization:`Bearer ${a}`}});o.ok&&(p.value=await o.json())},b=async()=>{const a=localStorage.getItem("token"),e="https://20nfauw0la.execute-api.ap-northeast-2.amazonaws.com/".replace(/\/$/,""),o=await fetch(`${e}/manager/pages`,{headers:{Authorization:`Bearer ${a}`}});o.ok&&(u.value=await o.json())},y=()=>{s.title="",s.description="",s.selectedPages=[],b(),m.value=!0},h=async()=>{const a=localStorage.getItem("token"),e="https://20nfauw0la.execute-api.ap-northeast-2.amazonaws.com/".replace(/\/$/,"");(await fetch(`${e}/manager/templates`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({title:s.title,description:s.description,pages:s.selectedPages,globalConfig:s.globalConfig})})).ok?(m.value=!1,c()):alert("Failed to create template")};return w(c),(a,e)=>(l(),k(P,null,{default:T(()=>[t("div",$,[t("div",{class:"flex justify-between items-center mb-6"},[e[7]||(e[7]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Templates",-1)),t("button",{onClick:y,class:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700"},"Create New Template")]),t("div",j,[(l(!0),r(f,null,x(p.value,o=>(l(),r("div",{key:o._id,class:"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow"},[t("div",V,[t("h3",S,i(o.title),1),t("p",z,i(o.description),1),t("p",M,"Pages: "+i(o.pages?o.pages.length:0),1)]),e[8]||(e[8]=t("div",{class:"bg-gray-50 px-4 py-4 sm:px-6 flex justify-end"},[t("button",{class:"text-indigo-600 hover:text-indigo-900 text-sm font-medium"},"Edit")],-1))]))),128))]),m.value?(l(),r("div",U,[t("div",D,[e[14]||(e[14]=t("h3",{class:"text-lg font-medium mb-4"},"Create New Template",-1)),t("div",E,[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700"},"Title",-1)),n(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.title=o),type:"text",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[d,s.title]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),n(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.description=o),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[d,s.description]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700"},"Select Pages (Order matters)",-1)),t("div",N,[(l(!0),r(f,null,x(u.value,o=>(l(),r("div",{key:o._id,class:"flex items-center py-1"},[n(t("input",{type:"checkbox",value:o._id,"onUpdate:modelValue":e[2]||(e[2]=C=>s.selectedPages=C),class:"h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,8,A),[[_,s.selectedPages]]),t("span",I,i(o.title)+" ("+i(o.pageType)+")",1)]))),128))]),e[12]||(e[12]=t("p",{class:"text-xs text-gray-500 mt-1"},"Check to add. Drag & Drop reordering not yet implemented.",-1))]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700"},"Theme Colors",-1)),t("div",O,[n(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>s.globalConfig.themeColors.mainColor=o),placeholder:"Main Color",class:"border p-1 text-xs"},null,512),[[d,s.globalConfig.themeColors.mainColor]]),n(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>s.globalConfig.themeColors.bgColor=o),placeholder:"Bg Color",class:"border p-1 text-xs"},null,512),[[d,s.globalConfig.themeColors.bgColor]]),n(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>s.globalConfig.themeColors.tintColor=o),placeholder:"Tint Color",class:"border p-1 text-xs"},null,512),[[d,s.globalConfig.themeColors.tintColor]])])])]),t("div",L,[t("button",{onClick:e[6]||(e[6]=o=>m.value=!1),class:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50"},"Cancel"),t("button",{onClick:h,class:"bg-indigo-600 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-indigo-700"},"Create")])])])):F("",!0)])]),_:1}))}});export{H as default};
